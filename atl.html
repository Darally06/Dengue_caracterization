
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Atlántico &#8212; Dengue en Colombia</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'atl';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="COLOMBIS" href="col.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Dengue en Colombia</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Análisis de datos exploratorio
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="col.html">COLOMBIS</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Atlántico</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Darally06/SEMINARIO.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Darally06/SEMINARIO.git/issues/new?title=Issue%20on%20page%20%2Fatl.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/atl.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Atlántico</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calidad-de-los-datos">1. Calidad de los datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-temporales">Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-de-la-edad">Conversión de la edad</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categorizar-variables">Categorizar variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">2. Análisis univariado</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-demograficas">2.1 Variables demográficas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-de-evento">2.2 Variables de evento</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3 Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-espaciales">2.4 Variables espaciales</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-binaria">Exploración binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas">3. MAPAS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tasa-de-incidencia">Tasa de incidencia</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="atlantico">
<h1><strong>Atlántico</strong><a class="headerlink" href="#atlantico" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
</pre></div>
</div>
</div>
</div>
<section id="calidad-de-los-datos">
<h2>1. Calidad de los datos<a class="headerlink" href="#calidad-de-los-datos" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Leer el archivo</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\data_atlantico.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin_1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 31800 entries, 0 to 31799
Data columns (total 21 columns):
 #   Column                 Non-Null Count  Dtype 
---  ------                 --------------  ----- 
 0   area                   31800 non-null  int64 
 1   año                    31800 non-null  int64 
 2   edad                   31800 non-null  int64 
 3   fecha_consulta         31800 non-null  object
 4   fecha_hospitalizacion  31800 non-null  object
 5   fecha_inicio_sintomas  31800 non-null  object
 6   fecha_nacimiento       31800 non-null  object
 7   fecha_notificacion     31800 non-null  object
 8   hospitalizado          31800 non-null  int64 
 9   muerte                 31800 non-null  int64 
 10  municipio              31800 non-null  object
 11  nombre_evento          31800 non-null  object
 12  pertenencia_etnica     31800 non-null  int64 
 13  regimen_salud          31800 non-null  object
 14  semana                 31800 non-null  int64 
 15  sexo                   31800 non-null  object
 16  tipo_de_caso           31800 non-null  int64 
 17  uni_med_               31800 non-null  int64 
 18  evento                 31800 non-null  object
 19  edad_años              31800 non-null  int64 
 20  ciclo_vital            31800 non-null  object
dtypes: int64(10), object(11)
memory usage: 5.1+ MB
</pre></div>
</div>
</div>
</div>
<section id="variables-temporales">
<h3>Variables temporales<a class="headerlink" href="#variables-temporales" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Convertir fechas a datetime</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista de columnas que quieres convertir</span>
<span class="n">columnas_fecha</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fecha_consulta&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_inicio_sintomas&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_notificacion&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_nacimiento&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_hospitalizacion&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columnas_fecha</span><span class="p">:</span>
    <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">,</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columna &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; convertida a datetime.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Columna &#39;fecha_consulta&#39; convertida a datetime.
Columna &#39;fecha_inicio_sintomas&#39; convertida a datetime.
Columna &#39;fecha_notificacion&#39; convertida a datetime.
Columna &#39;fecha_nacimiento&#39; convertida a datetime.
Columna &#39;fecha_hospitalizacion&#39; convertida a datetime.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Hp\AppData\Local\Temp\ipykernel_20520\618031299.py:5: UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
  df[col] = pd.to_datetime(df[col], errors=&quot;coerce&quot;, dayfirst=True)
</pre></div>
</div>
</div>
</div>
</section>
<section id="conversion-de-la-edad">
<h3>Conversión de la edad<a class="headerlink" href="#conversion-de-la-edad" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Crear edad en años</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;uni_med_&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad&quot;</span><span class="p">],</span>   <span class="c1"># ya está en años</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;uni_med_&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">12</span><span class="p">,</span>  <span class="c1"># meses → años</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;uni_med_&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">365</span><span class="p">,</span> <span class="c1"># días → años</span>
                            <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)))</span>  <span class="c1"># por si hay otros valores</span>

<span class="c1"># Opcional: redondear a 2 decimales</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Crear variable ciclo vital</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ciclo_vital</span><span class="p">(</span><span class="n">edad</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">edad</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Desconocido&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Menor de 1 año&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Primera infancia&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Infancia&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Adolescencia&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Adulto&quot;</span>
    <span class="k">elif</span> <span class="n">edad</span> <span class="o">&lt;</span> <span class="mi">85</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Adulto mayor&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Ancianidad&quot;</span>


<span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">ciclo_vital</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;ciclo_vital&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Ancianidad&#39;, &#39;Adolescencia&#39;, &#39;Adulto mayor&#39;, &#39;Infancia&#39;, &#39;Adulto&#39;,
       &#39;Primera infancia&#39;, &#39;Menor de 1 año&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\data_atlantico.csv&quot;</span><span class="p">,</span> 
          <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin1&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="valores-faltantes">
<h3>Valores faltantes<a class="headerlink" href="#valores-faltantes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cantidad de valores nulos por variable</span>
<span class="n">faltantes</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">   Valores faltantes por variable:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">faltantes</span><span class="p">[</span><span class="n">faltantes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Valores faltantes por variable:
fecha_hospitalizacion    12613
fecha_nacimiento          1219
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 31800 entries, 0 to 31799
Data columns (total 21 columns):
 #   Column                 Non-Null Count  Dtype         
---  ------                 --------------  -----         
 0   area                   31800 non-null  int64         
 1   año                    31800 non-null  int64         
 2   edad                   31800 non-null  int64         
 3   fecha_consulta         31800 non-null  datetime64[ns]
 4   fecha_hospitalizacion  19187 non-null  datetime64[ns]
 5   fecha_inicio_sintomas  31800 non-null  datetime64[ns]
 6   fecha_nacimiento       30581 non-null  datetime64[ns]
 7   fecha_notificacion     31800 non-null  datetime64[ns]
 8   hospitalizado          31800 non-null  int64         
 9   muerte                 31800 non-null  int64         
 10  municipio              31800 non-null  object        
 11  nombre_evento          31800 non-null  object        
 12  pertenencia_etnica     31800 non-null  int64         
 13  regimen_salud          31800 non-null  object        
 14  semana                 31800 non-null  int64         
 15  sexo                   31800 non-null  object        
 16  tipo_de_caso           31800 non-null  int64         
 17  uni_med_               31800 non-null  int64         
 18  evento                 31800 non-null  object        
 19  edad_años              31800 non-null  int64         
 20  ciclo_vital            31800 non-null  object        
dtypes: datetime64[ns](5), int64(10), object(6)
memory usage: 5.1+ MB
</pre></div>
</div>
</div>
</div>
</section>
<section id="categorizar-variables">
<h3>Categorizar variables<a class="headerlink" href="#categorizar-variables" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;hospitalizado&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;tipo_de_caso&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>tipo_de_caso
2    21500
3    10210
5       90
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapeo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;area&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Cabecera municipal&#39;</span> <span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;Centro Poblado&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;Rural disperso&#39;</span><span class="p">},</span> 
    <span class="s1">&#39;hospitalizado&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Si&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;No&#39;</span><span class="p">},</span>
    <span class="s1">&#39;muerte&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Vivo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Muerto&#39;</span><span class="p">},</span>
    <span class="s1">&#39;pertenencia_etnica&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Indigena&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Rom&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Raizal&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Palenquero&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Negro&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span><span class="s1">&#39;Otro&#39;</span><span class="p">},</span>
    <span class="s1">&#39;regimen_salud&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="s1">&#39;Excepción&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="s1">&#39;Especial&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="s1">&#39;Contributivo&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="s1">&#39;Subsidiado&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="s1">&#39;No asegurado&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span> <span class="s1">&#39;Indeterminado&#39;</span><span class="p">},</span>
    <span class="s1">&#39;sexo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="s1">&#39;Masculino&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="s1">&#39;Femenino&#39;</span><span class="p">},</span>
    <span class="s1">&#39;tipo_de_caso&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Probable&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Conf. por laboratorio&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Conf. por nexo&#39;</span><span class="p">}</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">mapeo</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 31800 entries, 0 to 31799
Data columns (total 21 columns):
 #   Column                 Non-Null Count  Dtype         
---  ------                 --------------  -----         
 0   area                   31800 non-null  object        
 1   año                    31800 non-null  int64         
 2   edad                   31800 non-null  int64         
 3   fecha_consulta         31800 non-null  datetime64[ns]
 4   fecha_hospitalizacion  19187 non-null  datetime64[ns]
 5   fecha_inicio_sintomas  31800 non-null  datetime64[ns]
 6   fecha_nacimiento       30581 non-null  datetime64[ns]
 7   fecha_notificacion     31800 non-null  datetime64[ns]
 8   hospitalizado          31800 non-null  object        
 9   muerte                 31800 non-null  object        
 10  municipio              31800 non-null  object        
 11  nombre_evento          31800 non-null  object        
 12  pertenencia_etnica     31800 non-null  object        
 13  regimen_salud          31800 non-null  object        
 14  semana                 31800 non-null  int64         
 15  sexo                   31800 non-null  object        
 16  tipo_de_caso           31800 non-null  object        
 17  uni_med_               31800 non-null  int64         
 18  evento                 31800 non-null  object        
 19  edad_años              31800 non-null  int64         
 20  ciclo_vital            31800 non-null  object        
dtypes: datetime64[ns](5), int64(5), object(11)
memory usage: 5.1+ MB
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="analisis-univariado">
<h2>2. Análisis univariado<a class="headerlink" href="#analisis-univariado" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">describir_categorica</span><span class="p">(</span><span class="n">columna</span><span class="p">,</span> <span class="n">col_evento</span><span class="o">=</span><span class="s2">&quot;evento&quot;</span><span class="p">):</span>
    <span class="c1"># Conteos y proporciones generales</span>
    <span class="n">tabla</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;Conteo&quot;</span><span class="p">:</span> <span class="n">columna</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="s2">&quot;Proporción&quot;</span><span class="p">:</span> <span class="n">columna</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="c1"># Renombrar índice si hay NaN</span>
    <span class="n">tabla</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">tabla</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;NaN&quot;</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>

    <span class="c1"># Conteos de la variable evento cruzada con la categórica</span>
    <span class="n">crosstab_evento</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">col_evento</span><span class="p">])</span>

    <span class="c1"># Unir todo</span>
    <span class="n">tabla_completa</span> <span class="o">=</span> <span class="n">tabla</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">crosstab_evento</span><span class="p">)</span>

    <span class="c1"># Agregar proporciones específicas para &#39;Clasico&#39; y &#39;Grave&#39; si existen</span>
    <span class="k">if</span> <span class="s2">&quot;Clasico&quot;</span> <span class="ow">in</span> <span class="n">crosstab_evento</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Clasico&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Clasico&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Clasico&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="s2">&quot;Grave&quot;</span> <span class="ow">in</span> <span class="n">crosstab_evento</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Grave&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Grave&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Grave&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📌 Variable: </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabla_completa</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-----------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabla descriptivo de numericas</span>
<span class="k">def</span><span class="w"> </span><span class="nf">describir_numerica</span><span class="p">(</span><span class="n">columna</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📌 Variable: </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Min </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max</span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-----------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="variables-demograficas">
<h3>2.1 Variables demográficas<a class="headerlink" href="#variables-demograficas" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Edad / Ciclo vital</p></li>
<li><p>Sexo</p></li>
<li><p>Pertenencia étnica</p></li>
<li><p>Regimen de salud</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DESCRIPCIÓN DE VARIABLES CATEGÓRICAS&quot;</span><span class="p">)</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;sexo&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;pertenencia_etnica&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DESCRIPCIÓN DE VARIABLES CATEGÓRICAS

📌 Variable: ciclo_vital
                  Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
ciclo_vital                                                                   
Adolescencia       14572      0.4582    14211    361        0.9752      0.0248
Adulto              7120      0.2239     6931    189        0.9735      0.0265
Infancia            6554      0.2061     6444    110        0.9832      0.0168
Primera infancia    2784      0.0875     2737     47        0.9831      0.0169
Adulto mayor         586      0.0184      563     23        0.9608      0.0392
Menor de 1 año       135      0.0042      132      3        0.9778      0.0222
Ancianidad            49      0.0015       45      4        0.9184      0.0816

-----------------------------------

📌 Variable: sexo
           Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
sexo                                                                   
Masculino   16724      0.5259    16341    383        0.9771      0.0229
Femenino    15076      0.4741    14722    354        0.9765      0.0235

-----------------------------------

📌 Variable: pertenencia_etnica
                    Conteo  Proporción  Clasico  Grave  Prop_Clasico  \
pertenencia_etnica                                                     
Otro                 31281      0.9837    30552    729        0.9767   
Negro                  397      0.0125      392      5        0.9874   
Rom                     46      0.0014       45      1        0.9783   
Indigena                38      0.0012       37      1        0.9737   
Raizal                  36      0.0011       35      1        0.9722   
Palenquero               2      0.0001        2      0        1.0000   

                    Prop_Grave  
pertenencia_etnica              
Otro                    0.0233  
Negro                   0.0126  
Rom                     0.0217  
Indigena                0.0263  
Raizal                  0.0278  
Palenquero              0.0000  

-----------------------------------

📌 Variable: regimen_salud
               Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
regimen_salud                                                              
Subsidiado      15590      0.4903    15220    370        0.9763      0.0237
Contributivo    14091      0.4431    13778    313        0.9778      0.0222
Excepción        1144      0.0360     1133     11        0.9904      0.0096
No asegurado      699      0.0220      661     38        0.9456      0.0544
Indeterminado     209      0.0066      206      3        0.9856      0.0144
Especial           67      0.0021       65      2        0.9701      0.0299

-----------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gráficos de variables categóricas</span>
<span class="k">def</span><span class="w"> </span><span class="nf">graficar_categorica</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    
    <span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#2E4265&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Categoría&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gráficos de variables categóricas - Pie</span>
<span class="k">def</span><span class="w"> </span><span class="nf">graficar_categorica_pie</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

    <span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Pie chart</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
        <span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span>   <span class="c1"># porcentajes con 1 decimal</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>       <span class="c1"># para que arranque desde arriba</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Set3&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">conteo</span><span class="p">))</span>  <span class="c1"># paleta de colores</span>
    <span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Para que sea un círculo perfecto</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graficar_categorica</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribución por Ciclo Vital&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="n">graficar_categorica_pie</span><span class="p">(</span><span class="s2">&quot;sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribución por Sexo&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="n">etnia_filtrada</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;pertenencia_etnica&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;Otro&quot;</span><span class="p">]</span>
<span class="n">graficar_categorica</span><span class="p">(</span><span class="s1">&#39;pertenencia_etnica&#39;</span><span class="p">,</span> <span class="s2">&quot;Distribución por Pertenencia Étnica&quot;</span><span class="p">,</span> <span class="n">etnia_filtrada</span><span class="p">)</span>

<span class="n">df_regimen_principal</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Contributivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Subsidiado&quot;</span><span class="p">])]</span>
<span class="n">df_regimen_otros</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Contributivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Subsidiado&quot;</span><span class="p">])]</span>
<span class="n">graficar_categorica_pie</span><span class="p">(</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribución Régimen de Salud&quot;</span><span class="p">,</span> <span class="n">df_regimen_principal</span><span class="p">)</span>
<span class="n">graficar_categorica</span><span class="p">(</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribución Régimen de Salud (Otros)&quot;</span><span class="p">,</span> <span class="n">df_regimen_otros</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9dfe32d0d2653a064f98ec84f965dde067cf484a86ab4922d65333fba21c3191.png" src="_images/9dfe32d0d2653a064f98ec84f965dde067cf484a86ab4922d65333fba21c3191.png" />
<img alt="_images/8432bbec7490b33a12e107d4d61b9ee9a06b1f5b81b346819e7d2eb228e8a094.png" src="_images/8432bbec7490b33a12e107d4d61b9ee9a06b1f5b81b346819e7d2eb228e8a094.png" />
<img alt="_images/792791e341d33fe8f7dd5c3687ba13dd621b3e0f86dea773f53020d5d621db2f.png" src="_images/792791e341d33fe8f7dd5c3687ba13dd621b3e0f86dea773f53020d5d621db2f.png" />
<img alt="_images/7e168e902a157344e04527f3f4f0ef604e57ff982560cdfc41afeab2460b1d17.png" src="_images/7e168e902a157344e04527f3f4f0ef604e57ff982560cdfc41afeab2460b1d17.png" />
<img alt="_images/df705e8c8fcf625ef05c880f85ddf5cfd9b261db2bc39858e4975a58241da01d.png" src="_images/df705e8c8fcf625ef05c880f85ddf5cfd9b261db2bc39858e4975a58241da01d.png" />
</div>
</div>
<ul class="simple">
<li><p>Edad</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grupo 1: menores de un año, primera infancia, infancia</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Menores de un año&quot;</span><span class="p">,</span> <span class="s2">&quot;Primera infancia&quot;</span><span class="p">,</span> <span class="s2">&quot;Infancia&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_años&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribución de Edad - Menores de un año, Primera infancia, Infancia&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en años&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Grupo 2: adolescencia y adultez</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Adolescencia&quot;</span><span class="p">,</span> <span class="s2">&quot;Adultez&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_años&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribución de Edad - Adolescencia y Adultez&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en años&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Grupo 3: adulto mayor y anciano</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Adulto mayor&quot;</span><span class="p">,</span> <span class="s2">&quot;Anciano&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_años&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribución de Edad - Adulto mayor y Anciano&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en años&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/de00f2d4600e339ebc1059d558c76da067adb5fa3acf0c5bb3f3215f735d2fd6.png" src="_images/de00f2d4600e339ebc1059d558c76da067adb5fa3acf0c5bb3f3215f735d2fd6.png" />
<img alt="_images/4b0a3fc6729e59b6de8c37c9508c1cee92284b20149962d58815e14ad480e9bb.png" src="_images/4b0a3fc6729e59b6de8c37c9508c1cee92284b20149962d58815e14ad480e9bb.png" />
<img alt="_images/5b5619c620f01d47e32fc87e6e7a24000168850817521b6993a446551e7be917.png" src="_images/5b5619c620f01d47e32fc87e6e7a24000168850817521b6993a446551e7be917.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla_resumen</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="n">tabla_resumen</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>14572.0</td>
      <td>13.996912</td>
      <td>2.680334</td>
      <td>10.0</td>
      <td>12.0</td>
      <td>14.0</td>
      <td>16.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adulto</th>
      <td>7120.0</td>
      <td>30.107303</td>
      <td>10.079262</td>
      <td>20.0</td>
      <td>22.0</td>
      <td>27.0</td>
      <td>35.0</td>
      <td>59.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>586.0</td>
      <td>68.622867</td>
      <td>6.908641</td>
      <td>60.0</td>
      <td>63.0</td>
      <td>67.0</td>
      <td>73.0</td>
      <td>84.0</td>
    </tr>
    <tr>
      <th>Ancianidad</th>
      <td>49.0</td>
      <td>89.387755</td>
      <td>4.157405</td>
      <td>85.0</td>
      <td>86.0</td>
      <td>88.0</td>
      <td>91.0</td>
      <td>100.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>6554.0</td>
      <td>7.239396</td>
      <td>1.374341</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menor de 1 año</th>
      <td>135.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>2784.0</td>
      <td>2.622845</td>
      <td>1.159873</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabla para evento Clásico</span>
<span class="n">tabla_clasico</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;evento&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Clasico&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="c1"># Tabla para evento Grave</span>
<span class="n">tabla_grave</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;evento&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Grave&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_años&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📌 Evento: Clasico&quot;</span><span class="p">)</span>
<span class="n">tabla_clasico</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📌 Evento: Clasico
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>14211.0</td>
      <td>13.985786</td>
      <td>2.678755</td>
      <td>10.0</td>
      <td>12.0</td>
      <td>14.0</td>
      <td>16.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adulto</th>
      <td>6931.0</td>
      <td>30.143702</td>
      <td>10.101397</td>
      <td>20.0</td>
      <td>22.0</td>
      <td>27.0</td>
      <td>35.0</td>
      <td>59.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>563.0</td>
      <td>68.660746</td>
      <td>6.954888</td>
      <td>60.0</td>
      <td>62.5</td>
      <td>67.0</td>
      <td>74.0</td>
      <td>84.0</td>
    </tr>
    <tr>
      <th>Ancianidad</th>
      <td>45.0</td>
      <td>89.088889</td>
      <td>3.935978</td>
      <td>85.0</td>
      <td>86.0</td>
      <td>88.0</td>
      <td>91.0</td>
      <td>100.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>6444.0</td>
      <td>7.235413</td>
      <td>1.374581</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menor de 1 año</th>
      <td>132.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>2737.0</td>
      <td>2.619657</td>
      <td>1.159291</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📌 Evento: Grave&quot;</span><span class="p">)</span>
<span class="n">tabla_grave</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📌 Evento: Grave
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>361.0</td>
      <td>14.434903</td>
      <td>2.709408</td>
      <td>10.0</td>
      <td>12.00</td>
      <td>14.0</td>
      <td>17.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adulto</th>
      <td>189.0</td>
      <td>28.772487</td>
      <td>9.155633</td>
      <td>20.0</td>
      <td>22.00</td>
      <td>26.0</td>
      <td>32.0</td>
      <td>57.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>23.0</td>
      <td>67.695652</td>
      <td>5.708326</td>
      <td>61.0</td>
      <td>63.00</td>
      <td>67.0</td>
      <td>69.5</td>
      <td>82.0</td>
    </tr>
    <tr>
      <th>Ancianidad</th>
      <td>4.0</td>
      <td>92.750000</td>
      <td>5.737305</td>
      <td>85.0</td>
      <td>90.25</td>
      <td>94.0</td>
      <td>96.5</td>
      <td>98.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>110.0</td>
      <td>7.472727</td>
      <td>1.345799</td>
      <td>5.0</td>
      <td>6.00</td>
      <td>8.0</td>
      <td>9.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menor de 1 año</th>
      <td>3.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>47.0</td>
      <td>2.808511</td>
      <td>1.191242</td>
      <td>1.0</td>
      <td>2.00</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="variables-de-evento">
<h3>2.2 Variables de evento<a class="headerlink" href="#variables-de-evento" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;evento&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tipo_de_caso&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;hospitalizado&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;muerte&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📌 Variable: evento
         Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
evento                                                               
Clasico   31063      0.9768    31063      0           1.0         0.0
Grave       737      0.0232        0    737           0.0         1.0

-----------------------------------

📌 Variable: tipo_de_caso
                       Conteo  Proporción  Clasico  Grave  Prop_Clasico  \
tipo_de_caso                                                              
Probable                21500      0.6761    20976    524        0.9756   
Conf. por laboratorio   10210      0.3211     9997    213        0.9791   
Conf. por nexo             90      0.0028       90      0        1.0000   

                       Prop_Grave  
tipo_de_caso                       
Probable                   0.0244  
Conf. por laboratorio      0.0209  
Conf. por nexo             0.0000  

-----------------------------------

📌 Variable: hospitalizado
               Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
hospitalizado                                                              
Si              19184      0.6033    18468    716        0.9627      0.0373
No              12616      0.3967    12595     21        0.9983      0.0017

-----------------------------------

📌 Variable: muerte
        Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
muerte                                                              
Vivo     31786      0.9996    31063    723        0.9773      0.0227
Muerto      14      0.0004        0     14        0.0000      1.0000

-----------------------------------
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>2.3 Variables temporales<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;año&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📌 Variable: año
      Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
año                                                               
2022   10481      0.3296    10148    333        0.9682      0.0318
2021    7851      0.2469     7663    188        0.9761      0.0239
2019    3963      0.1246     3905     58        0.9854      0.0146
2018    3293      0.1036     3246     47        0.9857      0.0143
2020    2656      0.0835     2613     43        0.9838      0.0162
2023    2360      0.0742     2331     29        0.9877      0.0123
2017    1196      0.0376     1157     39        0.9674      0.0326

-----------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agrupar por año y semana</span>
<span class="n">casos_semana</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;año&quot;</span><span class="p">,</span> <span class="s2">&quot;semana&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>

<span class="c1"># Ordenar</span>
<span class="n">casos_semana</span> <span class="o">=</span> <span class="n">casos_semana</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;año&quot;</span><span class="p">,</span> <span class="s2">&quot;semana&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Crear índice continuo</span>
<span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">casos_semana</span><span class="p">))</span>

<span class="c1"># Graficar</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Marcar solo los años en el eje X</span>
<span class="n">años_unicos</span> <span class="o">=</span> <span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;año&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">ticks</span> <span class="o">=</span> <span class="p">[</span><span class="n">casos_semana</span><span class="p">[</span><span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;año&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">año</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">año</span> <span class="ow">in</span> <span class="n">años_unicos</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">,</span> <span class="n">años_unicos</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Evolución de Casos por Semana (2017-2023)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Año&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Número de Casos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/426e4a961f73d532a3a8785407e3b257e4dee576bd05007fe50fb026e6a39499.png" src="_images/426e4a961f73d532a3a8785407e3b257e4dee576bd05007fe50fb026e6a39499.png" />
</div>
</div>
</section>
<section id="variables-espaciales">
<h3>2.4 Variables espaciales<a class="headerlink" href="#variables-espaciales" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;municipio&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📌 Variable: area
                    Conteo  Proporción  Clasico  Grave  Prop_Clasico  \
area                                                                   
Cabecera municipal   31129      0.9789    30406    723        0.9768   
Centro Poblado         588      0.0185      575     13        0.9779   
Rural disperso          83      0.0026       82      1        0.9880   

                    Prop_Grave  
area                            
Cabecera municipal      0.0232  
Centro Poblado          0.0221  
Rural disperso          0.0120  

-----------------------------------

📌 Variable: municipio
                  Conteo  Proporción  Clasico  Grave  Prop_Clasico  Prop_Grave
municipio                                                                     
BARRANQUILLA       16743      0.5265    16397    346        0.9793      0.0207
SOLEDAD             6997      0.2200     6841    156        0.9777      0.0223
MALAMBO             1697      0.0534     1657     40        0.9764      0.0236
SABANALARGA         1093      0.0344     1062     31        0.9716      0.0284
BARANOA             1028      0.0323     1008     20        0.9805      0.0195
GALAPA               876      0.0275      845     31        0.9646      0.0354
PUERTO COLOMBIA      780      0.0245      724     56        0.9282      0.0718
POLONUEVO            399      0.0125      395      4        0.9900      0.0100
LURUACO              284      0.0089      278      6        0.9789      0.0211
USIACURÍ             262      0.0082      261      1        0.9962      0.0038
MANATÍ               257      0.0081      250      7        0.9728      0.0272
JUAN DE ACOSTA       252      0.0079      246      6        0.9762      0.0238
PONEDERA             189      0.0059      186      3        0.9841      0.0159
CAMPO DE LA CRUZ     151      0.0047      144      7        0.9536      0.0464
SUAN                 119      0.0037      115      4        0.9664      0.0336
PALMAR DE VARELA     110      0.0035      108      2        0.9818      0.0182
REPELÓN              106      0.0033      101      5        0.9528      0.0472
SABANAGRANDE          99      0.0031       98      1        0.9899      0.0101
SANTO TOMÁS           84      0.0026       84      0        1.0000      0.0000
TUBARÁ                84      0.0026       79      5        0.9405      0.0595
PIOJÓ                 69      0.0022       67      2        0.9710      0.0290
CANDELARIA            55      0.0017       52      3        0.9455      0.0545
SANTA LUCÍA           41      0.0013       41      0        1.0000      0.0000
desconocido           25      0.0008       24      1        0.9600      0.0400

-----------------------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exploracion-binaria">
<h2>Exploración binaria<a class="headerlink" href="#exploracion-binaria" title="Link to this heading">#</a></h2>
</section>
<section id="mapas">
<h2>3. MAPAS<a class="headerlink" href="#mapas" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># REELEER DATA</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\data_atlantico.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin_1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="c1"># Población proyectada</span>
<span class="n">poblacion</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\tabla_municipios.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf_8&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Shapefile de Atlántico</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\atlantico_municipios.shp&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf_8&#39;</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mpio_cnmbr&#39;</span><span class="p">:</span> <span class="s1">&#39;MUNICIPIO&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MUNICIPIO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;BARRANQUILLA&#39;, &#39;SOLEDAD&#39;, &#39;REPELÓN&#39;, &#39;JUAN DE ACOSTA&#39;, &#39;GALAPA&#39;,
       &#39;USIACURÍ&#39;, &#39;BARANOA&#39;, &#39;POLONUEVO&#39;, &#39;SABANALARGA&#39;, &#39;SABANAGRANDE&#39;,
       &#39;MALAMBO&#39;, &#39;LURUACO&#39;, &#39;CAMPO DE LA CRUZ&#39;, &#39;SANTO TOMÁS&#39;,
       &#39;desconocido&#39;, &#39;TUBARÁ&#39;, &#39;PONEDERA&#39;, &#39;PUERTO COLOMBIA&#39;, &#39;MANATÍ&#39;,
       &#39;CANDELARIA&#39;, &#39;PALMAR DE VARELA&#39;, &#39;SUAN&#39;, &#39;PIOJÓ&#39;, &#39;SANTA LUCÍA&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">poblacion</span><span class="p">[</span><span class="s1">&#39;MUNICIPIO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;BARANOA&#39;, &#39;BARRANQUILLA&#39;, &#39;CAMPO DE LA CRUZ&#39;, &#39;CANDELARIA&#39;,
       &#39;GALAPA&#39;, &#39;JUAN DE ACOSTA&#39;, &#39;LURUACO&#39;, &#39;MALAMBO&#39;, &#39;MANATÍ&#39;,
       &#39;PALMAR DE VARELA&#39;, &#39;PIOJÓ&#39;, &#39;POLONUEVO&#39;, &#39;PONEDERA&#39;,
       &#39;PUERTO COLOMBIA&#39;, &#39;REPELÓN&#39;, &#39;SABANAGRANDE&#39;, &#39;SABANALARGA&#39;,
       &#39;SANTA LUCÍA&#39;, &#39;SANTO TOMÁS&#39;, &#39;SOLEDAD&#39;, &#39;SUAN&#39;, &#39;TUBARÁ&#39;,
       &#39;USIACURÍ&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agrupamos casos por municipio, año y evento</span>
<span class="n">casos</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="s2">&quot;AÑO&quot;</span><span class="p">,</span> <span class="s2">&quot;EVENTO&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>
<span class="c1"># Total acumulado (sin año, solo municipio y evento)</span>
<span class="n">casos_total</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="s2">&quot;EVENTO&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">casos_total</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           MUNICIPIO   EVENTO  casos
0            BARANOA  Clasico   1008
1            BARANOA    Grave     20
2       BARRANQUILLA  Clasico  16397
3       BARRANQUILLA    Grave    346
4   CAMPO DE LA CRUZ  Clasico    144
5   CAMPO DE LA CRUZ    Grave      7
6         CANDELARIA  Clasico     52
7         CANDELARIA    Grave      3
8             GALAPA  Clasico    845
9             GALAPA    Grave     31
10    JUAN DE ACOSTA  Clasico    246
11    JUAN DE ACOSTA    Grave      6
12           LURUACO  Clasico    278
13           LURUACO    Grave      6
14           MALAMBO  Clasico   1657
15           MALAMBO    Grave     40
16            MANATÍ  Clasico    250
17            MANATÍ    Grave      7
18  PALMAR DE VARELA  Clasico    108
19  PALMAR DE VARELA    Grave      2
20             PIOJÓ  Clasico     67
21             PIOJÓ    Grave      2
22         POLONUEVO  Clasico    395
23         POLONUEVO    Grave      4
24          PONEDERA  Clasico    186
25          PONEDERA    Grave      3
26   PUERTO COLOMBIA  Clasico    724
27   PUERTO COLOMBIA    Grave     56
28           REPELÓN  Clasico    101
29           REPELÓN    Grave      5
30      SABANAGRANDE  Clasico     98
31      SABANAGRANDE    Grave      1
32       SABANALARGA  Clasico   1062
33       SABANALARGA    Grave     31
34       SANTA LUCÍA  Clasico     41
35       SANTO TOMÁS  Clasico     84
36           SOLEDAD  Clasico   6841
37           SOLEDAD    Grave    156
38              SUAN  Clasico    115
39              SUAN    Grave      4
40            TUBARÁ  Clasico     79
41            TUBARÁ    Grave      5
42          USIACURÍ  Clasico    261
43          USIACURÍ    Grave      1
44       desconocido  Clasico     24
45       desconocido    Grave      1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar datos sin Barranquilla</span>
<span class="n">df_q</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;BARRANQUILLA&quot;</span><span class="p">]</span>

<span class="c1"># Agrupar por municipio, año y evento</span>
<span class="n">tabla</span> <span class="o">=</span> <span class="n">df_q</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span><span class="s2">&quot;AÑO&quot;</span><span class="p">,</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>
<span class="n">tabla</span><span class="p">[</span><span class="s1">&#39;AÑO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2017, 2018, 2019, 2020, 2021, 2022, 2023])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista de eventos a graficar</span>
<span class="n">eventos</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Clasico&quot;</span><span class="p">,</span> <span class="s2">&quot;Grave&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="n">eventos</span><span class="p">:</span>
    <span class="c1"># Filtrar solo el evento actual</span>
    <span class="n">tabla_evento</span> <span class="o">=</span> <span class="n">tabla</span><span class="p">[</span><span class="n">tabla</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evento</span><span class="p">]</span>
    
    <span class="c1"># Crear tabla pivote para heatmap</span>
    <span class="n">pivot</span> <span class="o">=</span> <span class="n">tabla_evento</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>
        <span class="n">index</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> 
        <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;AÑO&quot;</span><span class="p">,</span> 
        <span class="n">values</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">,</span> 
        <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>
    <span class="n">pivot</span> <span class="o">=</span> <span class="n">pivot</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    
    <span class="c1"># Graficar heatmap</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">pivot</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Casos de Dengue </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2"> por Municipio y Año (sin Barranquilla)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Año&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Municipio&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/04e6afae8dc6fcbb1897e9edc4b19c492d03603fb0682718d4b6e8d8ff0c59d4.png" src="_images/04e6afae8dc6fcbb1897e9edc4b19c492d03603fb0682718d4b6e8d8ff0c59d4.png" />
<img alt="_images/328de82401c980e37f78424ed4e08ccc848b2f6892dab4d7e9e01144fd034b5e.png" src="_images/328de82401c980e37f78424ed4e08ccc848b2f6892dab4d7e9e01144fd034b5e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eventos</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Clasico&quot;</span><span class="p">,</span> <span class="s2">&quot;Grave&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="n">eventos</span><span class="p">:</span>
    <span class="n">anios</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">anios</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># años + total</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">anio</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">anios</span><span class="p">):</span>
        <span class="n">casos_anio</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">anio</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evento</span><span class="p">)]</span>
        <span class="n">casos_anio</span> <span class="o">=</span> <span class="n">casos_anio</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">)</span>
        <span class="n">gdf_plot</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_anio</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="n">gdf_plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
                      <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dengue </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">anio</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

    <span class="c1"># Total de casos por evento</span>
    <span class="n">casos_total</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evento</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">)</span>
    <span class="n">gdf_total</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_total</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">gdf_total</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
                   <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dengue </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2"> Total&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f323ba42105b597984d84dc8c0478ca1397cfe3eef282dfca7ec0dc3c5938a68.png" src="_images/f323ba42105b597984d84dc8c0478ca1397cfe3eef282dfca7ec0dc3c5938a68.png" />
<img alt="_images/c2b492d0a28247c29618b049cec7d1e2dae87137619e2d7401989af366b3102a.png" src="_images/c2b492d0a28247c29618b049cec7d1e2dae87137619e2d7401989af366b3102a.png" />
</div>
</div>
</section>
<section id="tasa-de-incidencia">
<h2>Tasa de incidencia<a class="headerlink" href="#tasa-de-incidencia" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Supongamos que tu tabla de población se llama df_poblacion</span>
<span class="n">df_poblacion_long</span> <span class="o">=</span> <span class="n">poblacion</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span>
    <span class="n">id_vars</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span>
    <span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2017.0&#39;</span><span class="p">,</span><span class="s1">&#39;2018.0&#39;</span><span class="p">,</span><span class="s1">&#39;2019.0&#39;</span><span class="p">,</span><span class="s1">&#39;2020.0&#39;</span><span class="p">,</span><span class="s1">&#39;2021.0&#39;</span><span class="p">,</span><span class="s1">&#39;2022.0&#39;</span><span class="p">,</span><span class="s1">&#39;2023.0&#39;</span><span class="p">],</span>
    <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;AÑO&quot;</span><span class="p">,</span>
    <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;POBLACION&quot;</span>
<span class="p">)</span>

<span class="c1"># Limpiar el año (quitar &quot;.0&quot;)</span>
<span class="n">df_poblacion_long</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_poblacion_long</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.0&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df_poblacion_long</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MUNICIPIO</th>
      <th>AÑO</th>
      <th>POBLACION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>BARANOA</td>
      <td>2017</td>
      <td>60676.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>BARRANQUILLA</td>
      <td>2017</td>
      <td>1180860.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CAMPO DE LA CRUZ</td>
      <td>2017</td>
      <td>22604.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CANDELARIA</td>
      <td>2017</td>
      <td>15543.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GALAPA</td>
      <td>2017</td>
      <td>58493.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>156</th>
      <td>SANTO TOMÁS</td>
      <td>2023</td>
      <td>35083.0</td>
    </tr>
    <tr>
      <th>157</th>
      <td>SOLEDAD</td>
      <td>2023</td>
      <td>696982.0</td>
    </tr>
    <tr>
      <th>158</th>
      <td>SUAN</td>
      <td>2023</td>
      <td>13814.0</td>
    </tr>
    <tr>
      <th>159</th>
      <td>TUBARÁ</td>
      <td>2023</td>
      <td>19692.0</td>
    </tr>
    <tr>
      <th>160</th>
      <td>USIACURÍ</td>
      <td>2023</td>
      <td>14627.0</td>
    </tr>
  </tbody>
</table>
<p>161 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_incidencia</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">casos</span><span class="p">,</span>
    <span class="n">df_poblacion_long</span><span class="p">,</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span><span class="s2">&quot;AÑO&quot;</span><span class="p">],</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span>
<span class="p">)</span>
<span class="n">df_incidencia</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MUNICIPIO</th>
      <th>AÑO</th>
      <th>EVENTO</th>
      <th>casos</th>
      <th>POBLACION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>BARANOA</td>
      <td>2017</td>
      <td>Clasico</td>
      <td>7</td>
      <td>60676.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>BARANOA</td>
      <td>2018</td>
      <td>Clasico</td>
      <td>158</td>
      <td>62371.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>BARANOA</td>
      <td>2018</td>
      <td>Grave</td>
      <td>4</td>
      <td>62371.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>BARANOA</td>
      <td>2019</td>
      <td>Clasico</td>
      <td>387</td>
      <td>64550.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>BARANOA</td>
      <td>2019</td>
      <td>Grave</td>
      <td>8</td>
      <td>64550.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>225</th>
      <td>USIACURÍ</td>
      <td>2023</td>
      <td>Clasico</td>
      <td>212</td>
      <td>14627.0</td>
    </tr>
    <tr>
      <th>226</th>
      <td>desconocido</td>
      <td>2017</td>
      <td>Clasico</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>227</th>
      <td>desconocido</td>
      <td>2017</td>
      <td>Grave</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>228</th>
      <td>desconocido</td>
      <td>2018</td>
      <td>Clasico</td>
      <td>20</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>229</th>
      <td>desconocido</td>
      <td>2019</td>
      <td>Clasico</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>230 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;TASA_INCIDENCIA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;POBLACION&quot;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>
<span class="n">df_incidencia</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MUNICIPIO</th>
      <th>AÑO</th>
      <th>EVENTO</th>
      <th>casos</th>
      <th>POBLACION</th>
      <th>TASA_INCIDENCIA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>BARANOA</td>
      <td>2017</td>
      <td>Clasico</td>
      <td>7</td>
      <td>60676.0</td>
      <td>11.536687</td>
    </tr>
    <tr>
      <th>1</th>
      <td>BARANOA</td>
      <td>2018</td>
      <td>Clasico</td>
      <td>158</td>
      <td>62371.0</td>
      <td>253.322858</td>
    </tr>
    <tr>
      <th>2</th>
      <td>BARANOA</td>
      <td>2018</td>
      <td>Grave</td>
      <td>4</td>
      <td>62371.0</td>
      <td>6.413237</td>
    </tr>
    <tr>
      <th>3</th>
      <td>BARANOA</td>
      <td>2019</td>
      <td>Clasico</td>
      <td>387</td>
      <td>64550.0</td>
      <td>599.535244</td>
    </tr>
    <tr>
      <th>4</th>
      <td>BARANOA</td>
      <td>2019</td>
      <td>Grave</td>
      <td>8</td>
      <td>64550.0</td>
      <td>12.393493</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>225</th>
      <td>USIACURÍ</td>
      <td>2023</td>
      <td>Clasico</td>
      <td>212</td>
      <td>14627.0</td>
      <td>1449.374445</td>
    </tr>
    <tr>
      <th>226</th>
      <td>desconocido</td>
      <td>2017</td>
      <td>Clasico</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>227</th>
      <td>desconocido</td>
      <td>2017</td>
      <td>Grave</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>228</th>
      <td>desconocido</td>
      <td>2018</td>
      <td>Clasico</td>
      <td>20</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>229</th>
      <td>desconocido</td>
      <td>2019</td>
      <td>Clasico</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>230 rows × 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Clasico&quot;</span><span class="p">,</span><span class="s2">&quot;Grave&quot;</span><span class="p">]:</span>
    <span class="n">anios</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">anios</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">anio</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">anios</span><span class="p">):</span>
        <span class="n">casos_anio</span> <span class="o">=</span> <span class="n">df_incidencia</span><span class="p">[(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;AÑO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">anio</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evento</span><span class="p">)]</span>
        <span class="n">gdf_plot</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_anio</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">gdf_plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;TASA_INCIDENCIA&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
                      <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dengue </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">anio</span><span class="si">}</span><span class="s2"> (Tasa x100k)&quot;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

    <span class="c1"># Total acumulado</span>
    <span class="n">casos_total</span> <span class="o">=</span> <span class="n">df_incidencia</span><span class="p">[</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evento</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span>
        <span class="s2">&quot;casos&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;POBLACION&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span>
    <span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">casos_total</span><span class="p">[</span><span class="s2">&quot;TASA_INCIDENCIA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">casos_total</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">casos_total</span><span class="p">[</span><span class="s2">&quot;POBLACION&quot;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>

    <span class="n">gdf_total</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_total</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">gdf_total</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;TASA_INCIDENCIA&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
                   <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dengue </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2"> Total (Tasa x100k)&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/66bc36b4de62181d5200b878089577bbc2c4e83c637038f9bc99c930a0e03d71.png" src="_images/66bc36b4de62181d5200b878089577bbc2c4e83c637038f9bc99c930a0e03d71.png" />
<img alt="_images/90e896335c2b276131fc683890602d3843d9bd431f10a00f07386d4e562a5f65.png" src="_images/90e896335c2b276131fc683890602d3843d9bd431f10a00f07386d4e562a5f65.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar por evento y excluir Barranquilla</span>
<span class="n">df_heat</span> <span class="o">=</span> <span class="n">df_incidencia</span><span class="p">[(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;EVENTO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Clasico&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_incidencia</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;BARRANQUILLA&quot;</span><span class="p">)]</span>

<span class="c1"># Pivotear para heatmap</span>
<span class="n">heatmap_data</span> <span class="o">=</span> <span class="n">df_heat</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;AÑO&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;TASA_INCIDENCIA&quot;</span><span class="p">)</span>

<span class="c1"># Graficar</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">heatmap_data</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.1f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Incidencia de Dengue Clásico por Municipio y Año (x 100k hab)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/051115b806522cbad36b244fbc5b18ae4881626a440062327b429717e7e38675.png" src="_images/051115b806522cbad36b244fbc5b18ae4881626a440062327b429717e7e38675.png" />
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Exploración bivariada (comparaciones)</p></li>
</ol>
<p>4.1 Demografía vs evento/desenlace</p>
<p>Edad × hospitalización.</p>
<p>Sexo × tipo de caso.</p>
<p>Aseguradora × mortalidad.</p>
<p>4.2 Geografía vs desenlace</p>
<p>Municipios/localidades con mayor hospitalización o mortalidad.</p>
<p>Tasas de casos por 100.000 hab.</p>
<p>4.3 Temporalidad vs desenlace</p>
<p>Hospitalización y mortalidad por año y semana.</p>
<p>Comparaciones antes/después de picos epidémicos.</p>
<ol class="arabic simple" start="5">
<li><p>Pruebas estadísticas</p></li>
</ol>
<p>Pruebas de proporción:</p>
<p>Diferencia en proporciones de hospitalización por sexo.</p>
<p>Diferencia en proporciones de mortalidad entre municipios/localidades.</p>
<p>Chi-cuadrado de independencia:</p>
<p>Sexo × tipo de caso.</p>
<p>Edad (categorías) × hospitalización.</p>
<p>Municipio × mortalidad.</p>
<p>Pruebas de medias:</p>
<p>Diferencia en promedio de edad entre hospitalizados vs no hospitalizados.</p>
<p>Diferencia en diferencia de días (síntomas→consulta) por municipio.</p>
<ol class="arabic simple" start="6">
<li><p>Análisis multivariado</p></li>
</ol>
<p>Correlación entre variables numéricas</p>
<p>Edad, diferencia de días, semana.</p>
<p>Heatmap de correlaciones.</p>
<p>Análisis de correspondencias múltiples (ACM/MCA)</p>
<p>Para variables categóricas: sexo, etnia, aseguradora, municipio/localidad.</p>
<p>Ver si aparecen perfiles de pacientes.</p>
<p>Clustering exploratorio (opcional)</p>
<p>Agrupar barrios/localidades por perfil de casos.</p>
<ol class="arabic simple" start="7">
<li><p>Resumen y hallazgos clave</p></li>
</ol>
<p>Principales patrones encontrados.</p>
<p>Variables críticas para explicar hospitalización y mortalidad.</p>
<p>Brechas de información (faltantes o inconsistencias).</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="col.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">COLOMBIS</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calidad-de-los-datos">1. Calidad de los datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-temporales">Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-de-la-edad">Conversión de la edad</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categorizar-variables">Categorizar variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">2. Análisis univariado</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-demograficas">2.1 Variables demográficas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-de-evento">2.2 Variables de evento</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3 Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-espaciales">2.4 Variables espaciales</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-binaria">Exploración binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas">3. MAPAS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tasa-de-incidencia">Tasa de incidencia</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Daniella Guerra & Tawny Torres
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>
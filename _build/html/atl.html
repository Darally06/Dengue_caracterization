
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Atl치ntico &#8212; Dengue en Colombia</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'atl';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="COLOMBIS" href="col.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Dengue en Colombia</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    An치lisis de datos exploratorio
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="col.html">COLOMBIS</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Atl치ntico</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Darally06/SEMINARIO.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Darally06/SEMINARIO.git/issues/new?title=Issue%20on%20page%20%2Fatl.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/atl.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Atl치ntico</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calidad-de-los-datos">1. Calidad de los datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-temporales">Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">2. An치lisis univariado</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-demograficas">2.1 Variables demogr치ficas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-de-evento">2.2 Variables de evento</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3 Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-espaciales">2.4 Variables espaciales</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-binaria">Exploraci칩n binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas">3. MAPAS</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="atlantico">
<h1><strong>Atl치ntico</strong><a class="headerlink" href="#atlantico" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<section id="calidad-de-los-datos">
<h2>1. Calidad de los datos<a class="headerlink" href="#calidad-de-los-datos" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Leer el archivo</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\data_atlantico.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin_1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 32594 entries, 0 to 32593
Data columns (total 21 columns):
 #   Column                 Non-Null Count  Dtype 
---  ------                 --------------  ----- 
 0   area                   32594 non-null  object
 1   a침o                    32594 non-null  int64 
 2   edad                   32594 non-null  int64 
 3   fecha_consulta         32594 non-null  object
 4   fecha_hospitalizacion  19527 non-null  object
 5   fecha_inicio_sintomas  32593 non-null  object
 6   fecha_nacimiento       31376 non-null  object
 7   fecha_notificacion     32594 non-null  object
 8   hospitalizado          32594 non-null  object
 9   muerte                 32594 non-null  object
 10  municipio              32594 non-null  object
 11  nombre_evento          32594 non-null  object
 12  pertenencia_etnica     32594 non-null  object
 13  regimen_salud          32594 non-null  object
 14  semana                 32594 non-null  int64 
 15  sexo                   32594 non-null  object
 16  tipo_de_caso           32594 non-null  object
 17  uni_med_               32594 non-null  int64 
 18  evento                 32594 non-null  object
 19  edad_a침os              32594 non-null  int64 
 20  ciclo_vital            32594 non-null  object
dtypes: int64(5), object(16)
memory usage: 5.2+ MB
</pre></div>
</div>
</div>
</div>
<section id="variables-temporales">
<h3>Variables temporales<a class="headerlink" href="#variables-temporales" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Convertir fechas a datetime</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista de columnas que quieres convertir</span>
<span class="n">columnas_fecha</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fecha_consulta&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_inicio_sintomas&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_notificacion&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_nacimiento&quot;</span><span class="p">,</span> <span class="s2">&quot;fecha_hospitalizacion&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columnas_fecha</span><span class="p">:</span>
    <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">,</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columna &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; convertida a datetime.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Columna &#39;fecha_consulta&#39; convertida a datetime.
Columna &#39;fecha_inicio_sintomas&#39; convertida a datetime.
Columna &#39;fecha_notificacion&#39; convertida a datetime.
Columna &#39;fecha_nacimiento&#39; convertida a datetime.
Columna &#39;fecha_hospitalizacion&#39; convertida a datetime.
</pre></div>
</div>
</div>
</div>
</section>
<section id="valores-faltantes">
<h3>Valores faltantes<a class="headerlink" href="#valores-faltantes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cantidad de valores nulos por variable</span>
<span class="n">faltantes</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">   Valores faltantes por variable:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">faltantes</span><span class="p">[</span><span class="n">faltantes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Valores faltantes por variable:
fecha_hospitalizacion    13067
fecha_inicio_sintomas        1
fecha_nacimiento          1218
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="analisis-univariado">
<h2>2. An치lisis univariado<a class="headerlink" href="#analisis-univariado" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">describir_categorica</span><span class="p">(</span><span class="n">columna</span><span class="p">,</span> <span class="n">col_evento</span><span class="o">=</span><span class="s2">&quot;evento&quot;</span><span class="p">):</span>
    <span class="c1"># Conteos y proporciones generales</span>
    <span class="n">tabla</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;Conteo&quot;</span><span class="p">:</span> <span class="n">columna</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="s2">&quot;Proporci칩n&quot;</span><span class="p">:</span> <span class="n">columna</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="c1"># Renombrar 칤ndice si hay NaN</span>
    <span class="n">tabla</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">tabla</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;NaN&quot;</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>

    <span class="c1"># Conteos de la variable evento cruzada con la categ칩rica</span>
    <span class="n">crosstab_evento</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">col_evento</span><span class="p">])</span>

    <span class="c1"># Unir todo</span>
    <span class="n">tabla_completa</span> <span class="o">=</span> <span class="n">tabla</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">crosstab_evento</span><span class="p">)</span>

    <span class="c1"># Agregar proporciones espec칤ficas para &#39;Clasico&#39; y &#39;Grave&#39; si existen</span>
    <span class="k">if</span> <span class="s2">&quot;Clasico&quot;</span> <span class="ow">in</span> <span class="n">crosstab_evento</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Clasico&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Clasico&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Clasico&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="s2">&quot;Grave&quot;</span> <span class="ow">in</span> <span class="n">crosstab_evento</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Grave&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Grave&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tabla_completa</span><span class="p">[</span><span class="s2">&quot;Prop_Grave&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">游늷 Variable: </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabla_completa</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-----------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabla descriptivo de numericas</span>
<span class="k">def</span><span class="w"> </span><span class="nf">describir_numerica</span><span class="p">(</span><span class="n">columna</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">游늷 Variable: </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Min </span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max</span><span class="si">{</span><span class="n">columna</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">columna</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-----------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="variables-demograficas">
<h3>2.1 Variables demogr치ficas<a class="headerlink" href="#variables-demograficas" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Edad / Ciclo vital</p></li>
<li><p>Sexo</p></li>
<li><p>Pertenencia 칠tnica</p></li>
<li><p>Regimen de salud</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DESCRIPCI칍N DE VARIABLES CATEG칍RICAS&quot;</span><span class="p">)</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;sexo&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;pertenencia_etnica&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DESCRIPCI칍N DE VARIABLES CATEG칍RICAS

游늷 Variable: ciclo_vital
                  Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
ciclo_vital                                                                   
Adolescencia       14894      0.4570    14531    363        0.9756      0.0244
Adultez             7471      0.2292     7265    206        0.9724      0.0276
Infancia            6643      0.2038     6531    112        0.9831      0.0169
Primera infancia    2467      0.0757     2423     44        0.9822      0.0178
Adulto mayor         623      0.0191      594     29        0.9535      0.0465
Menores a un a침o     445      0.0137      436      9        0.9798      0.0202
Anciano               51      0.0016       45      6        0.8824      0.1176

-----------------------------------

游늷 Variable: sexo
           Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
sexo                                                                   
Masculino   17122      0.5253    16725    397        0.9768      0.0232
Femenino    15472      0.4747    15100    372        0.9760      0.0240

-----------------------------------
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Variable: pertenencia_etnica
                    Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  \
pertenencia_etnica                                                     
Otro                 32083      0.9843    31319    764        0.9762   
Negro                  384      0.0118      381      3        0.9922   
Rom                     48      0.0015       48      0        1.0000   
Ind칤gena                40      0.0012       39      1        0.9750   
Raizal                  36      0.0011       35      1        0.9722   
Palenquero               3      0.0001        3      0        1.0000   

                    Prop_Grave  
pertenencia_etnica              
Otro                    0.0238  
Negro                   0.0078  
Rom                     0.0000  
Ind칤gena                0.0250  
Raizal                  0.0278  
Palenquero              0.0000  

-----------------------------------

游늷 Variable: regimen_salud
               Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
regimen_salud                                                              
Subsidiado      15863      0.4867    15481    382        0.9759      0.0241
Contributivo    14625      0.4487    14293    332        0.9773      0.0227
Excepcion        1106      0.0339     1095     11        0.9901      0.0099
No asegurado      703      0.0216      664     39        0.9445      0.0555
Indeterminado     212      0.0065      209      3        0.9858      0.0142
Especial           85      0.0026       83      2        0.9765      0.0235

-----------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gr치ficos de variables categ칩ricas</span>
<span class="k">def</span><span class="w"> </span><span class="nf">graficar_categorica</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    
    <span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#2E4265&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Categor칤a&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gr치ficos de variables categ칩ricas - Pie</span>
<span class="k">def</span><span class="w"> </span><span class="nf">graficar_categorica_pie</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">nombre_grafico</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

    <span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Pie chart</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
        <span class="n">conteo</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">conteo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span>   <span class="c1"># porcentajes con 1 decimal</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>       <span class="c1"># para que arranque desde arriba</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Set3&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">conteo</span><span class="p">))</span>  <span class="c1"># paleta de colores</span>
    <span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Para que sea un c칤rculo perfecto</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graficar_categorica</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribuci칩n por Ciclo Vital&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="n">graficar_categorica_pie</span><span class="p">(</span><span class="s2">&quot;sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribuci칩n por Sexo&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="n">etnia_filtrada</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;pertenencia_etnica&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;Otro&quot;</span><span class="p">]</span>
<span class="n">graficar_categorica</span><span class="p">(</span><span class="s1">&#39;pertenencia_etnica&#39;</span><span class="p">,</span> <span class="s2">&quot;Distribuci칩n por Pertenencia 칄tnica&quot;</span><span class="p">,</span> <span class="n">etnia_filtrada</span><span class="p">)</span>

<span class="n">df_regimen_principal</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Contributivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Subsidiado&quot;</span><span class="p">])]</span>
<span class="n">df_regimen_otros</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Contributivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Subsidiado&quot;</span><span class="p">])]</span>
<span class="n">graficar_categorica_pie</span><span class="p">(</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribuci칩n R칠gimen de Salud&quot;</span><span class="p">,</span> <span class="n">df_regimen_principal</span><span class="p">)</span>
<span class="n">graficar_categorica</span><span class="p">(</span><span class="s2">&quot;regimen_salud&quot;</span><span class="p">,</span> <span class="s2">&quot;Distribuci칩n R칠gimen de Salud (Otros)&quot;</span><span class="p">,</span> <span class="n">df_regimen_otros</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a9e510a7a93c5f884a0d92b5069bf480c1fb09d1997fe30bf48cffaf8cac038f.png" src="_images/a9e510a7a93c5f884a0d92b5069bf480c1fb09d1997fe30bf48cffaf8cac038f.png" />
<img alt="_images/3e88dd0ee070491108742aff843338cebdcbe40e8fa1fdb83ead605868d6d0b0.png" src="_images/3e88dd0ee070491108742aff843338cebdcbe40e8fa1fdb83ead605868d6d0b0.png" />
<img alt="_images/d9864398af7d4905d1085863db40c06b15ef7caeef7370838938e272c790e2ce.png" src="_images/d9864398af7d4905d1085863db40c06b15ef7caeef7370838938e272c790e2ce.png" />
<img alt="_images/960906a68c44e819818cd441be0370df5bc3a615ed1add4ec63ff34d6a65cfb1.png" src="_images/960906a68c44e819818cd441be0370df5bc3a615ed1add4ec63ff34d6a65cfb1.png" />
<img alt="_images/64cc8379577259fd7879ccc731a4aeddd63c6af98375d6c7aec01af0f54604d1.png" src="_images/64cc8379577259fd7879ccc731a4aeddd63c6af98375d6c7aec01af0f54604d1.png" />
</div>
</div>
<ul class="simple">
<li><p>Edad</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grupo 1: menores de un a침o, primera infancia, infancia</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Menores de un a침o&quot;</span><span class="p">,</span> <span class="s2">&quot;Primera infancia&quot;</span><span class="p">,</span> <span class="s2">&quot;Infancia&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribuci칩n de Edad - Menores de un a침o, Primera infancia, Infancia&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en a침os&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Grupo 2: adolescencia y adultez</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Adolescencia&quot;</span><span class="p">,</span> <span class="s2">&quot;Adultez&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribuci칩n de Edad - Adolescencia y Adultez&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en a침os&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Grupo 3: adulto mayor y anciano</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Adulto mayor&quot;</span><span class="p">,</span> <span class="s2">&quot;Anciano&quot;</span><span class="p">])],</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span>
    <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribuci칩n de Edad - Adulto mayor y Anciano&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Edad en a침os&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/61c1144be54c4cabdf0d279d14154dec81c1c9abaaf08ff64097e8a7f8fbaf97.png" src="_images/61c1144be54c4cabdf0d279d14154dec81c1c9abaaf08ff64097e8a7f8fbaf97.png" />
<img alt="_images/f6e87ae7207176442c5d81ed5229f1a70586451c371c6ee3b3abf5c0b6c18d27.png" src="_images/f6e87ae7207176442c5d81ed5229f1a70586451c371c6ee3b3abf5c0b6c18d27.png" />
<img alt="_images/74f86c2a2903309bb790b169c2926bb2ad5a46cbe577a7c3961ae7aaf61ecc2e.png" src="_images/74f86c2a2903309bb790b169c2926bb2ad5a46cbe577a7c3961ae7aaf61ecc2e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla_resumen</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="n">tabla_resumen</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>14894.0</td>
      <td>14.015778</td>
      <td>2.680449</td>
      <td>10.0</td>
      <td>12.0</td>
      <td>14.0</td>
      <td>16.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adultez</th>
      <td>7471.0</td>
      <td>30.158346</td>
      <td>10.104379</td>
      <td>20.0</td>
      <td>22.0</td>
      <td>27.0</td>
      <td>35.0</td>
      <td>59.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>623.0</td>
      <td>68.624398</td>
      <td>6.893786</td>
      <td>60.0</td>
      <td>63.0</td>
      <td>67.0</td>
      <td>73.0</td>
      <td>84.0</td>
    </tr>
    <tr>
      <th>Anciano</th>
      <td>51.0</td>
      <td>89.803922</td>
      <td>4.988064</td>
      <td>85.0</td>
      <td>86.0</td>
      <td>88.0</td>
      <td>91.5</td>
      <td>106.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>6643.0</td>
      <td>7.238748</td>
      <td>1.376959</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menores a un a침o</th>
      <td>445.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>2467.0</td>
      <td>2.826510</td>
      <td>1.067424</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabla para evento Cl치sico</span>
<span class="n">tabla_clasico</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;evento&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Clasico&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="c1"># Tabla para evento Grave</span>
<span class="n">tabla_grave</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;evento&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Grave&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ciclo_vital&quot;</span><span class="p">)[</span><span class="s2">&quot;edad_a침os&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;游늷 Evento: Clasico&quot;</span><span class="p">)</span>
<span class="n">tabla_clasico</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Evento: Clasico
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>14531.0</td>
      <td>14.005230</td>
      <td>2.679092</td>
      <td>10.0</td>
      <td>12.0</td>
      <td>14.0</td>
      <td>16.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adultez</th>
      <td>7265.0</td>
      <td>30.179215</td>
      <td>10.111743</td>
      <td>20.0</td>
      <td>22.0</td>
      <td>27.0</td>
      <td>35.0</td>
      <td>59.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>594.0</td>
      <td>68.612795</td>
      <td>6.939019</td>
      <td>60.0</td>
      <td>63.0</td>
      <td>67.0</td>
      <td>73.0</td>
      <td>84.0</td>
    </tr>
    <tr>
      <th>Anciano</th>
      <td>45.0</td>
      <td>89.644444</td>
      <td>4.987054</td>
      <td>85.0</td>
      <td>86.0</td>
      <td>88.0</td>
      <td>91.0</td>
      <td>106.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>6531.0</td>
      <td>7.233961</td>
      <td>1.377488</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menores a un a침o</th>
      <td>436.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>2423.0</td>
      <td>2.822121</td>
      <td>1.067177</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;游늷 Evento: Grave&quot;</span><span class="p">)</span>
<span class="n">tabla_grave</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Evento: Grave
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>ciclo_vital</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adolescencia</th>
      <td>363.0</td>
      <td>14.438017</td>
      <td>2.704281</td>
      <td>10.0</td>
      <td>12.00</td>
      <td>14.0</td>
      <td>17.0</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>Adultez</th>
      <td>206.0</td>
      <td>29.422330</td>
      <td>9.836779</td>
      <td>20.0</td>
      <td>22.00</td>
      <td>26.0</td>
      <td>34.0</td>
      <td>58.0</td>
    </tr>
    <tr>
      <th>Adulto mayor</th>
      <td>29.0</td>
      <td>68.862069</td>
      <td>5.992401</td>
      <td>61.0</td>
      <td>65.00</td>
      <td>68.0</td>
      <td>73.0</td>
      <td>82.0</td>
    </tr>
    <tr>
      <th>Anciano</th>
      <td>6.0</td>
      <td>91.000000</td>
      <td>5.291503</td>
      <td>85.0</td>
      <td>86.75</td>
      <td>90.5</td>
      <td>95.0</td>
      <td>98.0</td>
    </tr>
    <tr>
      <th>Infancia</th>
      <td>112.0</td>
      <td>7.517857</td>
      <td>1.321902</td>
      <td>5.0</td>
      <td>6.00</td>
      <td>8.0</td>
      <td>9.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>Menores a un a침o</th>
      <td>9.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Primera infancia</th>
      <td>44.0</td>
      <td>3.068182</td>
      <td>1.065260</td>
      <td>1.0</td>
      <td>2.75</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="variables-de-evento">
<h3>2.2 Variables de evento<a class="headerlink" href="#variables-de-evento" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;evento&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tipo_de_caso&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;hospitalizado&#39;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;muerte&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Variable: evento
         Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
evento                                                               
Clasico   31825      0.9764    31825      0           1.0         0.0
Grave       769      0.0236        0    769           0.0         1.0

-----------------------------------

游늷 Variable: tipo_de_caso
                        Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  \
tipo_de_caso                                                               
Probable                 21959      0.6737    21420    539        0.9755   
Confirmado Laboratorio   10546      0.3236    10316    230        0.9782   
Confirmado por Nexo         89      0.0027       89      0        1.0000   

                        Prop_Grave  
tipo_de_caso                        
Probable                    0.0245  
Confirmado Laboratorio      0.0218  
Confirmado por Nexo         0.0000  

-----------------------------------

游늷 Variable: hospitalizado
               Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
hospitalizado                                                              
Si              19526      0.5991    18779    747        0.9617      0.0383
No              13068      0.4009    13046     22        0.9983      0.0017

-----------------------------------

游늷 Variable: muerte
        Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
muerte                                                              
Si       32580      0.9996    31825    755        0.9768      0.0232
No          14      0.0004        0     14        0.0000      1.0000

-----------------------------------
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>2.3 Variables temporales<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a침o&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Variable: a침o
      Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
a침o                                                               
2022   10481      0.3216    10148    333        0.9682      0.0318
2021    7851      0.2409     7663    188        0.9761      0.0239
2019    3963      0.1216     3905     58        0.9854      0.0146
2018    3293      0.1010     3246     47        0.9857      0.0143
2023    3154      0.0968     3093     61        0.9807      0.0193
2020    2656      0.0815     2613     43        0.9838      0.0162
2017    1196      0.0367     1157     39        0.9674      0.0326

-----------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agrupar por a침o y semana</span>
<span class="n">casos_semana</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;a침o&quot;</span><span class="p">,</span> <span class="s2">&quot;semana&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>

<span class="c1"># Ordenar</span>
<span class="n">casos_semana</span> <span class="o">=</span> <span class="n">casos_semana</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;a침o&quot;</span><span class="p">,</span> <span class="s2">&quot;semana&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Crear 칤ndice continuo</span>
<span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">casos_semana</span><span class="p">))</span>

<span class="c1"># Graficar</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Marcar solo los a침os en el eje X</span>
<span class="n">a침os_unicos</span> <span class="o">=</span> <span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;a침o&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">ticks</span> <span class="o">=</span> <span class="p">[</span><span class="n">casos_semana</span><span class="p">[</span><span class="n">casos_semana</span><span class="p">[</span><span class="s2">&quot;a침o&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a침o</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">a침o</span> <span class="ow">in</span> <span class="n">a침os_unicos</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">,</span> <span class="n">a침os_unicos</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Evoluci칩n de Casos por Semana (2017-2023)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;A침o&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;N칰mero de Casos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c4077d4e2c0ac9c6daa60609e3b7bdaba6be590fceec04bbbfeebadf1044c2c3.png" src="_images/c4077d4e2c0ac9c6daa60609e3b7bdaba6be590fceec04bbbfeebadf1044c2c3.png" />
</div>
</div>
</section>
<section id="variables-espaciales">
<h3>2.4 Variables espaciales<a class="headerlink" href="#variables-espaciales" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">])</span>
<span class="n">describir_categorica</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;municipio&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>游늷 Variable: area
                    Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  \
area                                                                   
Cabecera municipal   32006      0.9820    31251    755        0.9764   
Centro poblado         517      0.0159      504     13        0.9749   
Rural disperso          71      0.0022       70      1        0.9859   

                    Prop_Grave  
area                            
Cabecera municipal      0.0236  
Centro poblado          0.0251  
Rural disperso          0.0141  

-----------------------------------

游늷 Variable: municipio
                  Conteo  Proporci칩n  Clasico  Grave  Prop_Clasico  Prop_Grave
municipio                                                                     
BARRANQUILLA       19681      0.6038    19274    407        0.9793      0.0207
SOLEDAD             5747      0.1763     5611    136        0.9763      0.0237
MALAMBO             1539      0.0472     1499     40        0.9740      0.0260
SABANALARGA         1037      0.0318     1008     29        0.9720      0.0280
BARANOA              939      0.0288      920     19        0.9798      0.0202
GALAPA               800      0.0245      770     30        0.9625      0.0375
PUERTO COLOMBIA      727      0.0223      673     54        0.9257      0.0743
POLONUEVO            386      0.0118      382      4        0.9896      0.0104
LURUACO              278      0.0085      272      6        0.9784      0.0216
MANAT칈               248      0.0076      241      7        0.9718      0.0282
JUAN DE ACOSTA       221      0.0068      216      5        0.9774      0.0226
PONEDERA             139      0.0043      136      3        0.9784      0.0216
CAMPO DE LA CRUZ     134      0.0041      127      7        0.9478      0.0522
SUAN                 105      0.0032      101      4        0.9619      0.0381
REPEL칍N              102      0.0031       97      5        0.9510      0.0490
SABANAGRANDE          92      0.0028       91      1        0.9891      0.0109
TUBAR츼                80      0.0025       75      5        0.9375      0.0625
PALMAR DE VARELA      79      0.0024       77      2        0.9747      0.0253
SANTO TOM츼S           65      0.0020       65      0        1.0000      0.0000
USIACUR칈              50      0.0015       49      1        0.9800      0.0200
CANDELARIA            48      0.0015       46      2        0.9583      0.0417
SANTA LUC칈A           39      0.0012       39      0        1.0000      0.0000
PIOJ칍                 33      0.0010       32      1        0.9697      0.0303
desconocido           25      0.0008       24      1        0.9600      0.0400

-----------------------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exploracion-binaria">
<h2>Exploraci칩n binaria<a class="headerlink" href="#exploracion-binaria" title="Link to this heading">#</a></h2>
</section>
<section id="mapas">
<h2>3. MAPAS<a class="headerlink" href="#mapas" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Casos de dengue</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\data_atlantico.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin_1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="c1"># Poblaci칩n proyectada</span>
<span class="n">poblacion</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\Poblacion_atl.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin_1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Shapefile de Atl치ntico</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Hp\DENGUE\Data\dengue_data\atlantico_municipios.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agrupamos casos por municipio, a침o y evento</span>
<span class="n">casos</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="s2">&quot;A칌O&quot;</span><span class="p">,</span> <span class="s2">&quot;EVENTO&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>

<span class="c1"># Total acumulado (sin a침o, solo municipio y evento)</span>
<span class="n">casos_total</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="s2">&quot;EVENTO&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Estandarizamos nombres</span>
<span class="n">casos</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">casos</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">casos_total</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">casos_total</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;mpio_cnmbr&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista de a침os</span>
<span class="n">anios</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;A칌O&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">anios</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># a침os + total</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">anio</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">anios</span><span class="p">):</span>
    <span class="n">casos_anio</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;A칌O&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">anio</span><span class="p">]</span>
    <span class="n">casos_anio</span> <span class="o">=</span> <span class="n">casos_anio</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">)</span>
    <span class="n">gdf_plot</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_anio</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="n">gdf_plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
                  <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dengue Cl치sico </span><span class="si">{</span><span class="n">anio</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="c1"># Total de casos</span>
<span class="n">casos_total</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">)</span>
<span class="n">gdf_total</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">casos_total</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;MUNICIPIO&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">gdf_total</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;CASOS&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;0.8&quot;</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Dengue Cl치sico Total&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4c163f1f14d720dc3e5614acf81c2447ff2856a27ea5762441b9b841ec33d4fb.png" src="_images/4c163f1f14d720dc3e5614acf81c2447ff2856a27ea5762441b9b841ec33d4fb.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Merge por municipio y a침o</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">poblacion</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MUNICIPIO&#39;</span><span class="p">,</span><span class="s1">&#39;A칌O&#39;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tasa_incidencia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">casos</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;POBLACION&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>

<span class="n">df_global</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;a침o&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;casos&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="s1">&#39;poblacion&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;tasa_incidencia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;casos&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;poblacion&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>

<span class="n">df_sorted</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;a침o&#39;</span><span class="p">,</span><span class="s1">&#39;tasa_incidencia&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~\anaconda3\envs\dengue\Lib\site-packages\pandas\core\indexes\base.py:3812,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3811</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3812</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3813</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File pandas/_libs/index.pyx:167,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/index.pyx:196,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7096,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;POBLACION&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;tasa_incidencia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">casos</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;POBLACION&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">df_global</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;a침o&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;casos&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="s1">&#39;poblacion&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;tasa_incidencia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;casos&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df_global</span><span class="p">[</span><span class="s1">&#39;poblacion&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100000</span>

<span class="nn">File ~\anaconda3\envs\dengue\Lib\site-packages\pandas\core\frame.py:4107,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">4105</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">4106</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">4107</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">4108</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">4109</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~\anaconda3\envs\dengue\Lib\site-packages\pandas\core\indexes\base.py:3819,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3814</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">3815</span>         <span class="nb">isinstance</span><span class="p">(</span><span class="n">casted_key</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3816</span>         <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3817</span>     <span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3818</span>         <span class="k">raise</span> <span class="n">InvalidIndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3819</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3820</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3821</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3822</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3823</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3824</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;POBLACION&#39;
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Exploraci칩n bivariada (comparaciones)</p></li>
</ol>
<p>4.1 Demograf칤a vs evento/desenlace</p>
<p>Edad 칑 hospitalizaci칩n.</p>
<p>Sexo 칑 tipo de caso.</p>
<p>Aseguradora 칑 mortalidad.</p>
<p>4.2 Geograf칤a vs desenlace</p>
<p>Municipios/localidades con mayor hospitalizaci칩n o mortalidad.</p>
<p>Tasas de casos por 100.000 hab.</p>
<p>4.3 Temporalidad vs desenlace</p>
<p>Hospitalizaci칩n y mortalidad por a침o y semana.</p>
<p>Comparaciones antes/despu칠s de picos epid칠micos.</p>
<ol class="arabic simple" start="5">
<li><p>Pruebas estad칤sticas</p></li>
</ol>
<p>Pruebas de proporci칩n:</p>
<p>Diferencia en proporciones de hospitalizaci칩n por sexo.</p>
<p>Diferencia en proporciones de mortalidad entre municipios/localidades.</p>
<p>Chi-cuadrado de independencia:</p>
<p>Sexo 칑 tipo de caso.</p>
<p>Edad (categor칤as) 칑 hospitalizaci칩n.</p>
<p>Municipio 칑 mortalidad.</p>
<p>Pruebas de medias:</p>
<p>Diferencia en promedio de edad entre hospitalizados vs no hospitalizados.</p>
<p>Diferencia en diferencia de d칤as (s칤ntomas뇪onsulta) por municipio.</p>
<ol class="arabic simple" start="6">
<li><p>An치lisis multivariado</p></li>
</ol>
<p>Correlaci칩n entre variables num칠ricas</p>
<p>Edad, diferencia de d칤as, semana.</p>
<p>Heatmap de correlaciones.</p>
<p>An치lisis de correspondencias m칰ltiples (ACM/MCA)</p>
<p>Para variables categ칩ricas: sexo, etnia, aseguradora, municipio/localidad.</p>
<p>Ver si aparecen perfiles de pacientes.</p>
<p>Clustering exploratorio (opcional)</p>
<p>Agrupar barrios/localidades por perfil de casos.</p>
<ol class="arabic simple" start="7">
<li><p>Resumen y hallazgos clave</p></li>
</ol>
<p>Principales patrones encontrados.</p>
<p>Variables cr칤ticas para explicar hospitalizaci칩n y mortalidad.</p>
<p>Brechas de informaci칩n (faltantes o inconsistencias).</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="col.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">COLOMBIS</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calidad-de-los-datos">1. Calidad de los datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-temporales">Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">2. An치lisis univariado</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-demograficas">2.1 Variables demogr치ficas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-de-evento">2.2 Variables de evento</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.3 Variables temporales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-espaciales">2.4 Variables espaciales</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploracion-binaria">Exploraci칩n binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas">3. MAPAS</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Daniella Guerra & Tawny Torres
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      춸 Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>